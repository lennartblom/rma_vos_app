{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "Fahrplaner"
    },
    "name": "MyController",
    "designerId": "58f13f6b-eafa-4b74-b9dc-6b1ad6681e46",
    "cn": [
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "MainView",
                "selector": "#MainView"
            },
            "name": "MainView",
            "designerId": "13ab4542-b9a3-4220-b83d-287b2e155967"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "fahrplanerBackButton",
                "selector": "#fahrplanerBackButton"
            },
            "name": "fahrplanerBackButton",
            "designerId": "c7b6cefc-1cee-4152-8cdf-bb2efc8d117f"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "button#fahrplanerBackButton",
                "designer|targetType": "Ext.Button",
                "fn": "fahrplanerBackButton",
                "implHandler": [
                    "this.getFahrplanerView().hide();",
                    "this.getMainView().show();"
                ],
                "name": "tap"
            },
            "name": "fahrplanerBackButton",
            "designerId": "c2f2dc05-a9cc-4ca0-b990-83239b09ab4d"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "FahrplanerView",
                "selector": "#FahrplanerView"
            },
            "name": "FahrplanerView",
            "designerId": "df3bf0db-0393-4b7d-8d0c-1b004cf3a9b3"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "mybutton",
                "selector": "button#mybutton"
            },
            "name": "mybutton",
            "designerId": "45b698a7-2d84-461e-b11d-30dc02a52e28"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "button#mybutton",
                "designer|targetType": "Ext.Button",
                "fn": "storeTest",
                "implHandler": [
                    "this.stops.filter(\"id\", 250);"
                ],
                "name": "tap"
            },
            "name": "storeTest",
            "designerId": "186e2bc3-1083-41d2-8557-e7676e21d121"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "lineOne",
                "selector": "dataview#lineOne"
            },
            "name": "lineOne",
            "designerId": "d0bb6b69-cc7a-4985-986c-7029cf6058e9"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "data"
                ],
                "fn": "getLines",
                "implHandler": [
                    "var len = data.length;",
                    "var content = '';",
                    "",
                    "for(var i=0;i<len;i++){",
                    "    content += data[i]['LineId'];",
                    "    if(i != len-1){",
                    "        content += \", \";",
                    "    }",
                    "}",
                    "",
                    "return content;"
                ]
            },
            "name": "getLines",
            "designerId": "1c7ac032-cde5-4bb5-8629-9ac71f1d2b8f"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "lineTwo",
                "selector": "dataview#lineTwo"
            },
            "name": "lineTwo",
            "designerId": "63181ebe-f44e-4a3f-b1b0-1a8227df382d"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#lineOne",
                "designer|params": [
                    "list",
                    "index",
                    "item",
                    "record"
                ],
                "designer|targetType": "MyList",
                "fn": "onLineOneItemTap",
                "implHandler": [
                    "var dataView = this.getLineTwo();",
                    "var linesData = record.get('lines');",
                    "//var quantity = linesArray.getCount();",
                    "",
                    "",
                    "",
                    "var myPanel = Ext.create('Ext.Panel', {",
                    "    html: \"<div style=\\\"float:left;width:50%;background-color:green;\\\"><div style=\\\"float:left;width:15px;height:15px;background-image:url(resources/images/icons/bus-icon-150x150.png);background-size:15px 15px;\\\"></div> \" + this.getLines(linesData) + \"</div><div style=\\\"background-color:#5e5e5e;float:left;width:50%;\\\">\"+ record.get('name')+ \"</div>\"",
                    "});",
                    "",
                    "dataView.add([myPanel]);"
                ],
                "name": "itemtap"
            },
            "name": "onLineOneItemTap",
            "designerId": "833ccafe-2627-4af5-abbe-a869bfaa3c55"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "button#reset_button",
                "designer|targetType": "Ext.Button",
                "fn": "onButtonTap",
                "implHandler": [
                    "this.getLineTwo().removeAll();"
                ],
                "name": "tap"
            },
            "name": "onButtonTap",
            "designerId": "4b114a89-8681-40ec-988b-94f1338e891a"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "searchfield#mysearchfield1",
                "designer|targetType": "MySearchField1",
                "fn": "onMysearchfield1Action",
                "implHandler": [
                    "var value = this.getMysearchfield1().getValue();",
                    "var store = Ext.getStore('stops');",
                    "store.filter('name', value);",
                    "",
                    "var dataView = this.getLineOne();",
                    "",
                    "dataView.refresh();",
                    "",
                    "console.log(\"Search refresh with: \"+value);"
                ],
                "name": "action"
            },
            "name": "onMysearchfield1Action",
            "designerId": "eac20c00-2cd0-4d80-9112-4d16ba5ceac2"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "mysearchfield1",
                "selector": "searchfield#mysearchfield1"
            },
            "name": "mysearchfield1",
            "designerId": "55220e19-5b69-4ab6-b188-b123156af6e7"
        }
    ]
}